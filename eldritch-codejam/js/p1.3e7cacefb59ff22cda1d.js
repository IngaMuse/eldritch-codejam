(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var r;e.g.importScripts&&(r=e.g.location+"");var t=e.g.document;if(!r&&t&&(t.currentScript&&(r=t.currentScript.src),!r)){var n=t.getElementsByTagName("script");n.length&&(r=n[n.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=r+"../"})();const r={azathoth:e.p+"assets/Ancients/Azathoth.png",cthulhu:e.p+"assets/Ancients/Cthulthu.png",iogSothoth:e.p+"assets/Ancients/IogSothoth.png",shubNiggurath:e.p+"assets/Ancients/ShubNiggurath.png"},t=[{id:"azathoth",name:"azathoth",cardFace:r.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:r.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:r.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:r.shubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],n={brown1:e.p+"assets/MythicCards/brown/brown1.png",brown2:e.p+"assets/MythicCards/brown/brown2.png",brown3:e.p+"assets/MythicCards/brown/brown3.png",brown4:e.p+"assets/MythicCards/brown/brown4.png",brown5:e.p+"assets/MythicCards/brown/brown5.png",brown6:e.p+"assets/MythicCards/brown/brown6.png",brown7:e.p+"assets/MythicCards/brown/brown7.png",brown8:e.p+"assets/MythicCards/brown/brown8.png",brown9:e.p+"assets/MythicCards/brown/brown9.png",brown10:e.p+"assets/MythicCards/brown/brown10.png",brown11:e.p+"assets/MythicCards/brown/brown11.png",brown12:e.p+"assets/MythicCards/brown/brown12.png",brown13:e.p+"assets/MythicCards/brown/brown13.png",brown14:e.p+"assets/MythicCards/brown/brown14.png",brown15:e.p+"assets/MythicCards/brown/brown15.png",brown16:e.p+"assets/MythicCards/brown/brown16.png",brown17:e.p+"assets/MythicCards/brown/brown17.png",brown18:e.p+"assets/MythicCards/brown/brown18.png",brown19:e.p+"assets/MythicCards/brown/brown19.png",brown20:e.p+"assets/MythicCards/brown/brown20.png",brown21:e.p+"assets/MythicCards/brown/brown21.png"},o=[{id:"brown1",cardFace:n.brown1,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:n.brown2,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:n.brown3,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:n.brown4,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:n.brown5,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:n.brown6,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:n.brown7,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:n.brown8,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:n.brown9,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:n.brown10,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:n.brown11,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:n.brown12,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:n.brown13,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:n.brown14,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:n.brown15,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:n.brown16,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:n.brown17,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:n.brown18,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:n.brown19,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:n.brown20,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:n.brown21,difficulty:"easy",color:"brown"}],a={blue1:e.p+"assets/MythicCards/blue/blue1.png",blue2:e.p+"assets/MythicCards/blue/blue2.png",blue3:e.p+"assets/MythicCards/blue/blue3.png",blue4:e.p+"assets/MythicCards/blue/blue4.png",blue5:e.p+"assets/MythicCards/blue/blue5.png",blue6:e.p+"assets/MythicCards/blue/blue6.png",blue7:e.p+"assets/MythicCards/blue/blue7.png",blue8:e.p+"assets/MythicCards/blue/blue8.png",blue9:e.p+"assets/MythicCards/blue/blue9.png",blue10:e.p+"assets/MythicCards/blue/blue10.png",blue11:e.p+"assets/MythicCards/blue/blue11.png",blue12:e.p+"assets/MythicCards/blue/blue12.png"},c=[{id:"blue1",cardFace:a.blue1,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:a.blue2,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:a.blue3,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:a.blue4,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:a.blue5,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:a.blue6,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:a.blue7,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:a.blue8,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:a.blue9,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:a.blue10,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:a.blue11,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:a.blue12,difficulty:"normal",color:"blue"}],s={green1:e.p+"assets/MythicCards/green/green1.png",green2:e.p+"assets/MythicCards/green/green2.png",green3:e.p+"assets/MythicCards/green/green3.png",green4:e.p+"assets/MythicCards/green/green4.png",green5:e.p+"assets/MythicCards/green/green5.png",green6:e.p+"assets/MythicCards/green/green6.png",green7:e.p+"assets/MythicCards/green/green7.png",green8:e.p+"assets/MythicCards/green/green8.png",green9:e.p+"assets/MythicCards/green/green9.png",green10:e.p+"assets/MythicCards/green/green10.png",green11:e.p+"assets/MythicCards/green/green11.png",green12:e.p+"assets/MythicCards/green/green12.png",green13:e.p+"assets/MythicCards/green/green13.png",green14:e.p+"assets/MythicCards/green/green14.png",green15:e.p+"assets/MythicCards/green/green15.png",green16:e.p+"assets/MythicCards/green/green16.png",green17:e.p+"assets/MythicCards/green/green17.png",green18:e.p+"assets/MythicCards/green/green18.png"},l=[{id:"green1",cardFace:s.green1,difficulty:"easy",color:"green"},{id:"green2",cardFace:s.green2,difficulty:"hard",color:"green"},{id:"green3",cardFace:s.green3,difficulty:"hard",color:"green"},{id:"green4",cardFace:s.green4,difficulty:"hard",color:"green"},{id:"green5",cardFace:s.green5,difficulty:"hard",color:"green"},{id:"green6",cardFace:s.green6,difficulty:"hard",color:"green"},{id:"green7",cardFace:s.green7,difficulty:"normal",color:"green"},{id:"green8",cardFace:s.green8,difficulty:"normal",color:"green"},{id:"green9",cardFace:s.green9,difficulty:"normal",color:"green"},{id:"green10",cardFace:s.green10,difficulty:"normal",color:"green"},{id:"green11",cardFace:s.green11,difficulty:"normal",color:"green"},{id:"green12",cardFace:s.green12,difficulty:"easy",color:"green"},{id:"green13",cardFace:s.green13,difficulty:"normal",color:"green"},{id:"green14",cardFace:s.green14,difficulty:"normal",color:"green"},{id:"green15",cardFace:s.green15,difficulty:"normal",color:"green"},{id:"green16",cardFace:s.green16,difficulty:"easy",color:"green"},{id:"green17",cardFace:s.green17,difficulty:"easy",color:"green"},{id:"green18",cardFace:s.green18,difficulty:"easy",color:"green"}],i=[{id:"veryEasy",name:"Очень легкая"},{id:"easy",name:"Легкая"},{id:"normal",name:"Средняя"},{id:"hard",name:"Сложная"},{id:"veryHard",name:"Очень сложная"}],d=document.querySelector(".ancients-container"),g=document.querySelector(".difficulty-container");let b,u;const f=document.querySelector(".shuffle-button"),y=document.querySelector(".current-state"),h=document.querySelector(".deck"),w=document.querySelector(".last-card");let p,C="";const m=document.querySelector(".dot.green.one"),S=document.querySelector(".dot.brown.one"),F=document.querySelector(".dot.blue.one"),M=document.querySelector(".dot.green.two"),v=document.querySelector(".dot.brown.two"),x=document.querySelector(".dot.blue.two"),q=document.querySelector(".dot.green.third"),L=document.querySelector(".dot.brown.third"),A=document.querySelector(".dot.blue.third"),k=document.querySelectorAll(".stage-text");let N,z,E,$=[],T=[],j=[],H=0;function I(){y.style.visibility="",h.style.visibility="",w.style.visibility="",$=[],T=[],j=[],H=0,k[0].classList.remove("done"),k[1].classList.remove("done"),k[2].classList.remove("done")}function B(e){return e.sort((()=>Math.random()-.5))}function P(e,r){return r.firstStage[e]+r.secondStage[e]+r.thirdStage[e]}d.onclick=function(e){let r=e.target.closest(".ancient-card");r&&d.contains(r)&&(function(e){b&&b.classList.remove("active"),b=e,b.classList.add("active")}(r),g.style.visibility="visible",C=e.target.id,C=t.find((e=>e.name===C)),I())},g.onclick=function(e){let r=e.target.closest(".difficulty");r&&g.contains(r)&&(function(e){u&&u.classList.remove("active"),u=e,u.classList.add("active")}(r),f.style.visibility="visible",p=e.target.id,p=i.find((e=>e.id===p)),p=p.id,console.log(p),I())},f.onclick=function(e){f.style.visibility="",y.style.visibility="visible",h.style.visibility="visible",w.style.visibility="",function(e){m.textContent=e.firstStage.greenCards,S.textContent=e.firstStage.brownCards,F.textContent=e.firstStage.blueCards,M.textContent=e.secondStage.greenCards,v.textContent=e.secondStage.brownCards,x.textContent=e.secondStage.blueCards,q.textContent=e.thirdStage.greenCards,L.textContent=e.thirdStage.brownCards,A.textContent=e.thirdStage.blueCards}(C),function(e){let r=P("greenCards",e),t=P("brownCards",e),n=P("blueCards",e),a=l,s=o,i=c,d=l.filter((e=>"normal"===e.difficulty)),g=o.filter((e=>"normal"===e.difficulty)),b=c.filter((e=>"normal"===e.difficulty));if("easy"===p&&(a=l.filter((e=>"hard"!==e.difficulty)),s=o.filter((e=>"hard"!==e.difficulty)),i=c.filter((e=>"hard"!==e.difficulty))),"hard"===p&&(a=l.filter((e=>"easy"!==e.difficulty)),s=o.filter((e=>"easy"!==e.difficulty)),i=c.filter((e=>"easy"!==e.difficulty))),"veryEasy"===p){if(a=l.filter((e=>"easy"===e.difficulty)),a.length<r){let e=r-a.length;d=B(d).slice(0,e),a=a.concat(d),console.log("добавить normal green "+e)}if(s=o.filter((e=>"easy"===e.difficulty)),s.length<t){let e=t-s.length;g=B(g).slice(0,e),s=s.concat(g),console.log("добавить normal brown "+e)}if(i=c.filter((e=>"easy"===e.difficulty)),i.length<n){let e=n-i.length;b=B(b).slice(0,e),i=i.concat(b),console.log("добавить normal blue "+e)}}if("veryHard"===p){if(a=l.filter((e=>"hard"===e.difficulty)),a.length<r){let e=r-a.length;d=B(d).slice(0,e),a=a.concat(d),console.log("добавить normal green "+e)}if(s=o.filter((e=>"hard"===e.difficulty)),s.length<t){let e=t-s.length;g=B(g).slice(0,e),s=s.concat(g),console.log("добавить normal brown "+e)}if(i=c.filter((e=>"hard"===e.difficulty)),i.length<n){let e=n-i.length;b=B(b).slice(0,e),i=i.concat(b),console.log("добавить normal blue "+e)}}N=B(a).slice(0,r),z=B(s).slice(0,t),E=B(i).slice(0,n)}(C),function(e){for(let r=0;r<e.firstStage.greenCards;r++)$.push(N[N.length-1]),N.pop();for(let r=0;r<e.secondStage.greenCards;r++)T.push(N[N.length-1]),N.pop();for(let r=0;r<e.thirdStage.greenCards;r++)j.push(N[N.length-1]),N.pop();for(let r=0;r<e.firstStage.brownCards;r++)$.push(z[z.length-1]),z.pop();for(let r=0;r<e.secondStage.brownCards;r++)T.push(z[z.length-1]),z.pop();for(let r=0;r<e.thirdStage.brownCards;r++)j.push(z[z.length-1]),z.pop();for(let r=0;r<e.firstStage.blueCards;r++)$.push(E[E.length-1]),E.pop();for(let r=0;r<e.secondStage.blueCards;r++)T.push(E[E.length-1]),E.pop();for(let r=0;r<e.thirdStage.blueCards;r++)j.push(E[E.length-1]),E.pop();$=B($),T=B(T),j=B(j),console.log("Первая стадия карты:"),console.log($),console.log("Вторая стадия карты:"),console.log(T),console.log("Третяя стадия карты:"),console.log(j)}(C)},h.addEventListener("click",(()=>{w.style.visibility="visible";const e=function(){let e=[].concat($,T,j);return console.log("Вся колода:"),console.log(e),e}();if(H<e.length){let r=e[H].cardFace;w.style.backgroundImage=`url(${r})`,H<$.length?("green"===e[H].color&&(m.textContent=m.textContent-1),"brown"===e[H].color&&(S.textContent=S.textContent-1),"blue"===e[H].color&&(F.textContent=F.textContent-1)):H<$.length+T.length?(k[0].classList.add("done"),"green"===e[H].color&&(M.textContent=M.textContent-1),"brown"===e[H].color&&(v.textContent=v.textContent-1),"blue"===e[H].color&&(x.textContent=x.textContent-1)):(k[1].classList.add("done"),"green"===e[H].color&&(q.textContent=q.textContent-1),"brown"===e[H].color&&(L.textContent=L.textContent-1),"blue"===e[H].color&&(A.textContent=A.textContent-1)),H++,console.log(H)}H>=e.length&&(h.style.visibility="",k[2].classList.add("done"))})),console.log("Вся работа выполнена, 100 баллов. Приятной проверки. Удачного обучения на 1 стадии!!! Все получится!")})();